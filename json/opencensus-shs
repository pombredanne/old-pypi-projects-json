{
    "info": {
        "author": "OpenCensus Authors",
        "author_email": "census-developers@googlegroups.com",
        "bugtrack_url": null,
        "classifiers": [
            "Development Status :: 3 - Alpha",
            "Intended Audience :: Developers",
            "License :: OSI Approved :: Apache Software License",
            "Programming Language :: Python",
            "Programming Language :: Python :: 2",
            "Programming Language :: Python :: 2.7",
            "Programming Language :: Python :: 3",
            "Programming Language :: Python :: 3.4",
            "Programming Language :: Python :: 3.5",
            "Programming Language :: Python :: 3.6"
        ],
        "description": "OpenCensus - A stats collection and distributed tracing framework\n=================================================================\n\n|gitter|\n|circleci|\n|pypi|\n\n.. |circleci| image:: https://circleci.com/gh/census-instrumentation/opencensus-python.svg?style=shield\n   :target: https://circleci.com/gh/census-instrumentation/opencensus-python\n.. |gitter| image:: https://badges.gitter.im/census-instrumentation/lobby.svg\n   :target: https://gitter.im/census-instrumentation/lobby?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge\n.. |pypi| image:: https://badge.fury.io/py/opencensus.svg\n   :target: https://pypi.org/project/opencensus/\n\n`OpenCensus`_ for Python. OpenCensus provides a framework to measure a\nserver's resource usage and collect performance stats. This repository\ncontains Python related utilities and supporting software needed by\nOpenCensus.\n\n.. _OpenCensus: https://github.com/census-instrumentation\n\n-  `API Documentation`_\n\n.. _API Documentation: https://opencensus.io/api/python/trace/usage.html\n\n--------\n Tracing\n--------\n\nInstallation & basic usage\n--------------------------\n\n1. Install the opencensus package using `pip`_ or `pipenv`_:\n\n    ::\n\n        pip install opencensus\n        pipenv install opencensus\n\n2. Initialize a tracer for your application:\n\n    .. code:: python\n\n        from opencensus.trace import tracer as tracer_module\n\n        tracer = tracer_module.Tracer()\n\n    .. _pip: https://pip.pypa.io\n    .. _pipenv: https://docs.pipenv.org/\n\n3. Initialize a view_manager and a stats_recorder for your application:\n\n    .. code:: python\n\n        from opencensus.stats import stats as stats_module\n\n        stats = stats_module.Stats()\n        view_manager = stats.view_manager\n        stats_recorder = stats.stats_recorder\n\n\nUsage\n-----\n\nYou can collect traces using the ``Tracer`` `context manager`_:\n\n.. code:: python\n\n    from opencensus.trace import tracer as tracer_module\n\n    # Initialize a tracer, by default using the `PrintExporter`\n    tracer = tracer_module.Tracer()\n\n    # Example for creating nested spans\n    with tracer.span(name='span1') as span1:\n        do_something_to_trace()\n        with span1.span(name='span1_child1') as span1_child1:\n            do_something_to_trace()\n        with span1.span(name='span1_child2') as span1_child2:\n            do_something_to_trace()\n    with tracer.span(name='span2') as span2:\n        do_something_to_trace()\n\nOpenCensus will collect everything within the ``with`` statement as a single span.\n\nAlternatively, you can explicitly start and end a span:\n\n.. code:: python\n\n    from opencensus.trace import tracer as tracer_module\n\n    # Initialize a tracer, by default using the `PrintExporter`\n    tracer = tracer_module.Tracer()\n\n    tracer.start_span(name='span1')\n    do_something_to_trace()\n    tracer.end_span()\n\n\n.. _context manager: https://docs.python.org/3/reference/datamodel.html#context-managers\n\n\nCustomization\n-------------\n\nSamplers\n~~~~~~~~\n\nYou can specify different samplers when initializing a tracer, default\nis using ``AlwaysOnSampler``, the other options are ``AlwaysOffSampler``\nand ``ProbabilitySampler``\n\n.. code:: python\n\n    from opencensus.trace.samplers import probability\n    from opencensus.trace import tracer as tracer_module\n\n    # Sampling the requests at the rate equals 0.5\n    sampler = probability.ProbabilitySampler(rate=0.5)\n    tracer = tracer_module.Tracer(sampler=sampler)\n\nExporters\n~~~~~~~~~\n\nBy default, the traces are printed to stdout in JSON format. You can choose\ndifferent exporters to send the traces to. There are three built-in exporters,\nwhich are ``opencensus.trace.print_exporter``, ``opencensus.trace.file_exporter``\nand ``opencensus.trace.logging_exporter``, other exporters are provided as\n`extensions <#trace-exporter>`__.\n\nThis example shows how to configure OpenCensus to save the traces to a\nfile:\n\n.. code:: python\n\n    from opencensus.trace import file_exporter\n    from opencensus.trace.tracers import context_tracer\n\n    exporter = file_exporter.FileExporter(file_name='traces')\n    tracer = context_tracer.ContextTracer(exporter=exporter)\n\nPropagators\n~~~~~~~~~~~\n\nYou can specify the propagator type for serializing and deserializing the\n``SpanContext`` and its headers. There are currently three built in propagators:\n``GoogleCloudFormatPropagator``, ``TextFormatPropagator`` and ``TraceContextPropagator``.\n\nThis example shows how to use the ``GoogleCloudFormatPropagator``:\n\n.. code:: python\n\n    from opencensus.trace.propagation import google_cloud_format\n\n    propagator = google_cloud_format.GoogleCloudFormatPropagator()\n\n    # Deserialize\n    span_context = propagator.from_header(header)\n\n    # Serialize\n    header = propagator.to_header(span_context)\n\nThis example shows how to use the ``TraceContextPropagator``:\n\n.. code:: python\n\n    import requests\n\n    from opencensus.trace import config_integration\n    from opencensus.trace.propagation.trace_context_http_header_format import TraceContextPropagator\n    from opencensus.trace.tracer import Tracer\n\n    config_integration.trace_integrations(['httplib'])\n    tracer = Tracer(propagator=TraceContextPropagator())\n\n    with tracer.span(name='parent'):\n        with tracer.span(name='child'):\n            response = requests.get('http://localhost:5000')\n\nBlacklist Paths\n~~~~~~~~~~~~~~~\n\nYou can specify which paths you do not want to trace by configuring the\nblacklist paths.\n\nThis example shows how to configure the blacklist to ignore the ``_ah/health`` endpoint\nfor a Flask application:\n\n.. code:: python\n\n    from opencensus.trace.ext.flask.flask_middleware import FlaskMiddleware\n\n    app = flask.Flask(__name__)\n\n    blacklist_paths = ['_ah/health']\n    middleware = FlaskMiddleware(app, blacklist_paths=blacklist_paths)\n\nFor Django, you can configure the blacklist in the ``OPENCENSUS_TRACE_PARAMS`` in ``settings.py``:\n\n.. code:: python\n\n    OPENCENSUS_TRACE_PARAMS: {\n        ...\n        'BLACKLIST_PATHS': ['_ah/health',],\n    }\n\n\n.. note:: By default, the health check path for the App Engine flexible environment is not traced,\n    but you can turn it on by excluding it from the blacklist setting.\n\n<<<<<<< HEAD\n------------\n Extensions\n------------\n\n=======\n<<<<<<< HEAD\n>>>>>>> merge\nIntegration\n-----------\n=======\nFramework Integration\n---------------------\n\nCensus supports integration with popular web frameworks including Django,\nFlask, and Pyramid. When the application receives a HTTP request, the tracer\nwill automatically generate a span context using the trace information\nextracted from the request headers and propagated to the child spans.\n\nFlask\n~~~~~\n\nIn your application, use the middleware to wrap your app and the\nrequests will be automatically traced.\n\n.. code:: python\n\n    from opencensus.trace.ext.flask.flask_middleware import FlaskMiddleware\n\n    app = flask.Flask(__name__)\n\n    # You can also specify the sampler, exporter, propagator in the middleware,\n    # default is using `AlwaysOnSampler` as sampler, `PrintExporter` as exporter,\n    # `GoogleCloudFormatPropagator` as propagator.\n    middleware = FlaskMiddleware(app)\n\nDjango\n~~~~~~\n\nFor tracing Django requests, you will need to add the following line to\nthe ``MIDDLEWARE_CLASSES`` section in the Django ``settings.py`` file.\n\n.. code:: python\n\n    MIDDLEWARE_CLASSES = [\n        ...\n        'opencensus.trace.ext.django.middleware.OpencensusMiddleware',\n    ]\n\nAnd add this line to the ``INSTALLED_APPS`` section:\n\n.. code:: python\n\n    INSTALLED_APPS = [\n        ...\n        'opencensus.trace.ext.django',\n    ]\n\nYou can configure the sampler, exporter, propagator using the ``OPENCENSUS_TRACE`` setting in\n``settings.py``:\n\n.. code:: python\n\n    OPENCENSUS_TRACE = {\n        'SAMPLER': 'opencensus.trace.samplers.probability.ProbabilitySampler',\n        'EXPORTER': 'opencensus.trace.exporters.print_exporter.PrintExporter',\n        'PROPAGATOR': 'opencensus.trace.propagation.google_cloud_format.'\n                      'GoogleCloudFormatPropagator',\n    }\n\nYou can configure the sampling rate and other parameters using the ``OPENCENSUS_TRACE_PARAMS``\nsetting in ``settings.py``:\n\n.. code:: python\n\n    OPENCENSUS_TRACE_PARAMS = {\n        'BLACKLIST_PATHS': ['/_ah/health'],\n        'GCP_EXPORTER_PROJECT': None,\n        'SAMPLING_RATE': 0.5,\n        'SERVICE_NAME': 'my_service',\n        'ZIPKIN_EXPORTER_HOST_NAME': 'localhost',\n        'ZIPKIN_EXPORTER_PORT': 9411,\n        'ZIPKIN_EXPORTER_PROTOCOL': 'http',\n        'JAEGER_EXPORTER_HOST_NAME': None,\n        'JAEGER_EXPORTER_PORT': None,\n        'JAEGER_EXPORTER_AGENT_HOST_NAME': 'localhost',\n        'JAEGER_EXPORTER_AGENT_PORT': 6831\n    }\n\n\nPyramid\n~~~~~~~\n\nIn your application, add the pyramid tween and your requests will be\ntraced.\n\n.. code:: python\n\n    def main(global_config, **settings):\n        config = Configurator(settings=settings)\n\n        config.add_tween('opencensus.trace.ext.pyramid'\n                         '.pyramid_middleware.OpenCensusTweenFactory')\n\nTo configure the sampler, exporter, and propagator, pass the instances\ninto the pyramid settings\n\n.. code:: python\n\n    from opencensus.trace.exporters import print_exporter\n    from opencensus.trace.propagation import google_cloud_format\n    from opencensus.trace.samplers import probability\n\n    settings = {}\n    settings['OPENCENSUS_TRACE'] = {\n        'EXPORTER': print_exporter.PrintExporter(),\n        'SAMPLER': probability.ProbabilitySampler(rate=0.5),\n        'PROPAGATOR': google_cloud_format.GoogleCloudFormatPropagator(),\n    }\n\n    config = Configurator(settings=settings)\n\ngRPC Integration\n----------------\n\nOpenCensus provides the implementation of interceptors for both the client side\nand server side to instrument the gRPC requests and responses. The client\ninterceptors are used to create a decorated channel that intercepts client\ngRPC calls and server interceptors act as decorators over handlers.\n\ngRPC interceptor is a new feature in the grpcio1.8.0 release, please upgrade\nyour grpcio to the latest version to use this feature.\n\nFor sample usage, please refer to the hello world example in the examples\ndirectory.\n\nMore information about the gRPC interceptors please see the `proposal`_.\n\n.. _proposal: https://github.com/mehrdada/proposal/blob/python-interceptors/L13-Python-Interceptors.md\n\nService Integration\n-------------------\n\nOpencensus supports integration with various popular outbound services such as\nSQL packages, Requests and Google Cloud client libraries. To enable integration\nservices to census:\tyou will need to pass the list of services to census:\n\n.. code:: python\n\n    from opencensus.trace import config_integration\n    from opencensus.trace import tracer as tracer_module\n\n    import mysql.connector\n\n    # Trace both mysql-connection and psycopg2\n    integration = ['mysql', 'postgresql']\n\n    config_integration.trace_integrations(integration)\n\n\nMySQL\n~~~~~\n\nThe integration with MySQL supports the `mysql-connector`_ library and is specified\nto ``trace_integrations`` using ``'mysql'``.\n\n.. _mysql-connector: https://pypi.org/project/mysql-connector\n\nPostgreSQL\n~~~~~~~~~~\n\nThe integration with PostgreSQL supports the `psycopg2`_ library and is specified\nto ``trace_integrations`` using ``'postgresql'``.\n\n.. _psycopg2: https://pypi.org/project/psycopg2\n\nMongoDB\n~~~~~~~~~~\n\nThe integration with Pymongo supports the `pymongo`_ library and is specified\nto ``trace_integrations`` using ``'pymongo'``.\n\n.. _pymongo: https://pypi.org/project/pymongo\n\n\nSQLAlchemy\n~~~~~~~~~~\n\nYou can trace usage of the `sqlalchemy package`_, regardless of the underlying\ndatabase, by specifying ``'sqlalchemy'`` to ``trace_integrations``.\n\n.. _SQLAlchemy package: https://pypi.org/project/SQLAlchemy\n\n.. note:: If you enable tracing of SQLAlchemy as well as the underlying database\n    driver, you will get duplicate spans. Instead, just trace SQLAlchemy.\n\nRequests\n~~~~~~~~\n\nCensus can trace HTTP requests made with the `Requests package`_. The request URL,\nmethod, and status will be collected.\n\nYou can enable Requests integration by specifying ``'requests'`` to ``trace_integrations``.\n\nIt's possible to configure a list of URL you don't want traced. By default the request to exporter\nwon't be traced. It's configurable by giving an array of hostname/port to the attribute\n``blacklist_hostnames`` in OpenCensus context's attributes:\n\n.. code:: python\n\n    execution_context.set_opencensus_attr('blacklist_hostnames',['hostname:port'])\n\nOnly the hostname must be specified if only the hostname is specified in the URL request.\n\n.. _Requests package: https://pypi.python.org/pypi/requests\n\nHttplib\n~~~~~~~~\n\nCensus can trace HTTP requests made with the httplib library.\n\nYou can enable Requests integration by specifying ``'httplib'`` to ``trace_integrations``.\n\nIt's possible to configure a list of URL you don't want traced. See requests integration\nfor more information. The only difference is that you need to specify hostname and port\nevery time.\n\nGoogle Cloud Client Libraries\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\nCensus can trace HTTP and gRPC requests made with the `Cloud client libraries`_.\nThe request URL, method, and status will be collected.\n\nYou can enable Google Cloud client libraries integration by specifying ``'google_cloud_clientlibs'`` to ``trace_integrations``.\n\n.. _Cloud client libraries: https://github.com/GoogleCloudPlatform/google-cloud-python#google-cloud-python-client\n\nThreading\n~~~~~~~~~\n\nCensus can propagate trace across threads when using the Threading package.\n>>>>>>> Fix test converage\n\nOpenCensus supports integration with popular web frameworks, client libraries and built-in libraries.\n\n-  `Django`_\n-  `Flask`_\n-  `Google Cloud Client Libraries`_\n-  `gRPC`_\n-  `httplib`_\n-  `MySQL`_\n-  `PostgreSQL`_\n-  `pymongo`_\n-  `PyMySQL`_\n-  `Pyramid`_\n-  `requests`_\n-  `SQLAlchemy`_\n-  `threading`_\n\nTrace Exporter\n--------------\n\n-  `Jaeger`_\n-  `OCAgent`_\n-  `Stackdriver`_\n-  `Zipkin`_\n\nStats Exporter\n--------------\n\n-  `Prometheus`_\n-  `Stackdriver`_\n\n.. _Django: https://github.com/census-instrumentation/opencensus-python/tree/master/contrib/opencensus-ext-django\n.. _Flask: https://github.com/census-instrumentation/opencensus-python/tree/master/contrib/opencensus-ext-flask\n.. _Google Cloud Client Libraries: https://github.com/census-instrumentation/opencensus-python/tree/master/contrib/opencensus-ext-google-cloud-clientlibs\n.. _gRPC: https://github.com/census-instrumentation/opencensus-python/tree/master/contrib/opencensus-ext-grpc\n.. _httplib: https://github.com/census-instrumentation/opencensus-python/tree/master/contrib/opencensus-ext-httplib\n.. _Jaeger: https://github.com/census-instrumentation/opencensus-python/tree/master/contrib/opencensus-ext-jaeger\n.. _MySQL: https://github.com/census-instrumentation/opencensus-python/tree/master/contrib/opencensus-ext-mysql\n.. _OCAgent: https://github.com/census-instrumentation/opencensus-python/tree/master/contrib/opencensus-ext-ocagent\n.. _PostgreSQL: https://github.com/census-instrumentation/opencensus-python/tree/master/contrib/opencensus-ext-postgresql\n.. _Prometheus: https://github.com/census-instrumentation/opencensus-python/tree/master/contrib/opencensus-ext-prometheus\n.. _pymongo: https://github.com/census-instrumentation/opencensus-python/tree/master/contrib/opencensus-ext-pymongo\n.. _PyMySQL: https://github.com/census-instrumentation/opencensus-python/tree/master/contrib/opencensus-ext-pymysql\n.. _Pyramid: https://github.com/census-instrumentation/opencensus-python/tree/master/contrib/opencensus-ext-pyramid\n.. _requests: https://github.com/census-instrumentation/opencensus-python/tree/master/contrib/opencensus-ext-requests\n.. _SQLAlchemy: https://github.com/census-instrumentation/opencensus-python/tree/master/contrib/opencensus-ext-sqlalchemy\n.. _Stackdriver: https://github.com/census-instrumentation/opencensus-python/tree/master/contrib/opencensus-ext-stackdriver\n.. _threading: https://github.com/census-instrumentation/opencensus-python/tree/master/contrib/opencensus-ext-threading\n.. _Zipkin: https://github.com/census-instrumentation/opencensus-python/tree/master/contrib/opencensus-ext-zipkin\n\n------------------\n Additional Info\n------------------\n\nContributing\n------------\n\nContributions to this library are always welcome and highly encouraged.\n\nSee `CONTRIBUTING <CONTRIBUTING.md>`__ for more information on how to\nget started.\n\n\nDevelopment\n-----------\n\nTests\n~~~~~\n\n::\n\n    cd trace\n    tox -e py34\n    source .tox/py34/bin/activate\n\n    # Install nox with pip\n    pip install nox-automation\n\n    # See what's available in the nox suite\n    nox -l\n\n    # Run a single nox command\n    nox -s \"unit(py='2.7')\"\n\n    # Run all the nox commands\n    nox\n\n    # Integration test\n    # We don't have script for integration test yet, but can test as below.\n    python setup.py bdist_wheel\n    cd dist\n    pip install opencensus-0.0.1-py2.py3-none-any.whl\n\n    # Then just run the tracers normally as you want to test.\n\nLicense\n-------\n\nApache 2.0 - See `LICENSE <LICENSE>`__ for more information.\n\nDisclaimer\n----------\n\nThis is not an official Google product.",
        "description_content_type": "",
        "docs_url": null,
        "download_url": "",
        "downloads": {
            "last_day": -1,
            "last_month": -1,
            "last_week": -1
        },
        "home_page": "https://github.com/census-instrumentation/opencensus-python",
        "keywords": "",
        "license": "Apache-2.0",
        "maintainer": "",
        "maintainer_email": "",
        "name": "opencensus-shs",
        "package_url": "https://pypi.org/project/opencensus-shs/",
        "platform": "",
        "project_url": "https://pypi.org/project/opencensus-shs/",
        "project_urls": {
            "Homepage": "https://github.com/census-instrumentation/opencensus-python"
        },
        "release_url": "https://pypi.org/project/opencensus-shs/0.1.dev0/",
        "requires_dist": null,
        "requires_python": "",
        "summary": "A stats collection and distributed tracing framework",
        "version": "0.1.dev0"
    },
    "last_serial": 4952632,
    "releases": {
        "0.1.dev0": [
            {
                "comment_text": "",
                "digests": {
                    "md5": "be94192c04f97505fb8b03609b5b6aea",
                    "sha256": "cd1eb071fc32ac3802409db7d3f31c06da90b7ea39f2b8df53ef7496cb76f442"
                },
                "downloads": -1,
                "filename": "opencensus-shs-0.1.dev0.tar.gz",
                "has_sig": false,
                "md5_digest": "be94192c04f97505fb8b03609b5b6aea",
                "packagetype": "sdist",
                "python_version": "source",
                "requires_python": null,
                "size": 65251,
                "upload_time": "2019-03-18T07:16:37",
                "url": "https://files.pythonhosted.org/packages/c5/39/372178899751d6a4b2c9b36d09e660f65129c3efe0f319acf4e44787d560/opencensus-shs-0.1.dev0.tar.gz"
            }
        ]
    },
    "urls": [
        {
            "comment_text": "",
            "digests": {
                "md5": "be94192c04f97505fb8b03609b5b6aea",
                "sha256": "cd1eb071fc32ac3802409db7d3f31c06da90b7ea39f2b8df53ef7496cb76f442"
            },
            "downloads": -1,
            "filename": "opencensus-shs-0.1.dev0.tar.gz",
            "has_sig": false,
            "md5_digest": "be94192c04f97505fb8b03609b5b6aea",
            "packagetype": "sdist",
            "python_version": "source",
            "requires_python": null,
            "size": 65251,
            "upload_time": "2019-03-18T07:16:37",
            "url": "https://files.pythonhosted.org/packages/c5/39/372178899751d6a4b2c9b36d09e660f65129c3efe0f319acf4e44787d560/opencensus-shs-0.1.dev0.tar.gz"
        }
    ]
}